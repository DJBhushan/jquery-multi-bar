/*!
 * jquery-multibar v0.2.0 by @teorossi
 * Copyright (c) 2015-2018 Matteo Rossi
 *
 * https://github.com/teorossi82/jquery-multi-bar
 *
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/MIT
 */
!function(a){var l=function(a){var l='<div class="multi-bar-box';a.reverse&&(l+=" reverse "),a.size&&(l+=" multi-bar-"+a.size+" "),l+=' ">';for(var i=0;i<a.multiBarValue.length;i++){var e=(a.multiBarValue[i].val,a.multiBarValue[i].bgColor);e||(e=s.defaults[i]),l+=0==i?'<div class="multi-bar-bar" style="background-color:'+e+";width:"+(a.multiBarValue[i].val-a.min)/(a.max-a.min)*100+'%"></div>':'<div class="multi-bar-bar" style="background-color:'+e+";width:"+(a.multiBarValue[i].val-a.multiBarValue[i-1].val)/(a.max-a.min)*100+'%"></div>'}l+="</div>";var t='<div class="multi-bar-value-content"><div class="multi-bar-initVal">'+a.min+"</div>";a.reverse&&(t='<div class="multi-bar-value-content reverse"><div class="multi-bar-initVal">'+a.min+"</div>");for(var r=0;r<a.multiBarValue.length;r++)t+=a.multiBarValue[r].val==a.max?'<div class="multi-bar-value-box" style="width:'+(a.multiBarValue[r].val-a.multiBarValue[r-1].val)/(a.max-a.min)*100+'%"></div>':0==r?'<div class="multi-bar-value-box" style="width:'+(a.multiBarValue[r].val-a.min)/(a.max-a.min)*100+'%"><div class="multi-bar-value">'+a.multiBarValue[r].val+"</div></div>":'<div class="multi-bar-value-box" style="width:'+(a.multiBarValue[r].val-a.multiBarValue[r-1].val)/(a.max-a.min)*100+'%"><div class="multi-bar-value">'+a.multiBarValue[r].val+"</div></div>";return t+='<div class="multi-bar-lastVal">'+a.max+"</div></div>",{mulBar:l,valBar:t}},i=function(a){var l='<div class="multi-bar-box';a.reverse&&(l+=" reverse "),a.size&&(l+=" multi-bar-"+a.size+" "),l+=' ">';for(var i=a.min,e=0;e<s.hot.length;e++)l+='<div class="multi-bar-bar" style="background-color:'+s.hot[e]+';width:10%"></div>';l+="</div>";var t='<div class="multi-bar-value-content"><div class="multi-bar-initVal">'+a.min+"</div>";a.reverse&&(t='<div class="multi-bar-value-content reverse"><div class="multi-bar-initVal">'+a.min+"</div>");for(var i=a.min,r=0;r<s.hot.length;r++)i+=(a.max-a.min)/10,t+=r==s.hot.length-1?'<div class="multi-bar-value-box" style="width:10%"></div>':'<div class="multi-bar-value-box" style="width:10%"><div class="multi-bar-value">'+parseInt(i)+"</div></div>";return t+='<div class="multi-bar-lastVal">'+a.max+"</div></div>",{mulBar:l,valBar:t}},e=function(a){var l='<div class="multi-bar-box';a.reverse&&(l+=" reverse "),a.size&&(l+=" multi-bar-"+a.size+" "),l+=' ">';for(var i=a.min,e=0;e<s.cold.length;e++)l+='<div class="multi-bar-bar" style="background-color:'+s.cold[e]+';width:10%"></div>';l+="</div>";var t='<div class="multi-bar-value-content"><div class="multi-bar-initVal">'+a.min+"</div>";a.reverse&&(t='<div class="multi-bar-value-content reverse"><div class="multi-bar-initVal">'+a.min+"</div>");for(var i=a.min,r=0;r<s.cold.length;r++)i+=(a.max-a.min)/10,t+=r==s.cold.length-1?'<div class="multi-bar-value-box" style="width:10%"></div>':'<div class="multi-bar-value-box" style="width:10%"><div class="multi-bar-value">'+parseInt(i)+"</div></div>";return t+='<div class="multi-bar-lastVal">'+a.max+"</div></div>",{mulBar:l,valBar:t}},t=function(a,l){var i='<div class="multi-bar-marker-content';l.posMarker&&"inside"===l.posMarker&&(i+=" inside ");var e="left";l.reverse&&(i+=" reverse ",e="right"),i+='">';var t="arrow-down";l.iconMarker&&(t=l.iconMarker);for(var r=0;r<a.length;r++){var s,n,v=a[r]&&"object"==typeof a[r];v?(s=a[r].value,n=a[r].color):(s=a[r],n="black");var u=(s-l.min)/(l.max-l.min)*100;s>l.max?u=100:s<l.min&&(u=0),i+='<div class="multi-bar-marker" style="'+e+":"+u+"%;color:"+n+'"><div class="multi-bar-marker-value">'+s+'</div><span class="icon-'+t+'"></span></div>'}return i+="</div>"},r=function(l,i,e){for(var t='<div class="multi-bar-legend-box">',r=0;r<l.length;r++){var s=l[r]&&"object"==typeof l[r]?l[r].value:l[r],n=l[r]&&"object"==typeof l[r]?l[r].label:"Item",v=l[r]&&"object"==typeof l[r]?l[r].color:"black";t+='<div class="multi-bar-legend-item"><span class="icon-circle" style="color:'+v+'"></span> <span class="multi-bar-legend-item-label">'+n+": "+s+"</span></div>"}t+="</div>";var u=i.legend.content;u?(a(a(u).find(".multi-bar-legend-box")[0]).remove(),a(u).append(t),a(a(u).find(".multi-bar-legend-box")[0]).css("margin","0%")):(a(e.find(".multi-bar-legend-box")[0]).remove(),a(e.find(".multi-bar")[0]).append(t),a(e.find(".multi-bar-content")[0]).removeClass("no-legend"),a(e.find(".multi-bar-content")[0]).addClass("yes-legend"),a(e.find(".multi-bar-legend-box")[0]).css("width","28%"))},s={defaults:["green","yellow","orange","red","purple","blue","black","white"],hot:["#F9F9BD","#F7F411","#ECD024","#FFA500","#E08E00","#FF350A","#E90000","#BE0028","#C10069","#8A0079"],cold:["#A4FCB7","#A4FCD6","#A4FCF5","#A4F2FC","#A4E1FC","#A4CDFC","#A4ACFC","#5479CE","#4759FF","#0019FF"]},n=function(t,r){this.element=a(t);var s,n='<div class="multi-bar"><div class="multi-bar-content no-legend"><div class="multi-bar-marker-content"></div>';s=r.type&&"hot"==r.type?i(r):r.type&&"cold"==r.type?e(r):l(r),n+=s.mulBar+s.valBar,n+="</div></div>",this.element.html(n+'<div style="clear:both"></div>'),this.options=r,r.initValue&&"object"==typeof r.initValue&&this.setValue(r.initValue)};n.prototype={constructor:n,setValue:function(l){var i=t(l,this.options);a(a(this.element).find(".multi-bar-marker-content")[0]).replaceWith(i);var e=this.options.legend&&1==this.options.legend.show;if(e){r(l,this.options,this.element)}},destroy:function(){a(a(this.element).find(".multi-bar")[0]).remove();var l=this.options.legend&&1==this.options.legend.show;if(l){var i=this.options.legend.content;i&&a(a(i).find(".multi-bar-legend-box")[0]).remove()}}},a.fn.multibar=function(l){var i=Array.apply(null,arguments);return i.shift(),this.each(function(){var e,t=a(this),r=t.data("multibar");if(r)"string"==typeof l&&"function"==typeof r[l]&&r[l].apply(r,i);else{if(!l)return void t.data("multibar",new n(this,a.fn.multibar.defaults));if(l.min||0==l.min||(l.min=a.fn.multibar.defaults.min),l.max||0==l.max||(l.max=a.fn.multibar.defaults.max),!l.multiBarValue){l.multiBarValue=[];for(var v=(l.max-l.min)/5,u=l.min+v,m=0;5>m;m++)l.multiBarValue.push({val:parseInt(u),bgColor:s.defaults[m]}),u+=(l.max-l.min)/5}e=a.extend({},a.fn.multibar.defaults,l),t.data("multibar",new n(this,l))}})},a.fn.multibar.defaults={min:0,max:10,type:"normal",reverse:!1,posMarker:"outside",iconMarker:"arrow-down",multiBarValue:[{val:2,bgColor:"green"},{val:4,bgColor:"yellow"},{val:6,bgColor:"orange"},{val:8,bgColor:"red"},{val:10,bgColor:"purple"}]}}(jQuery);